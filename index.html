<!doctype html>
<meta charset="utf-8">
<title>README</title>
<div id="content"></div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
const RAW_BASE = 'https://raw.githubusercontent.com/evilC/WearWare/main/';

function makeAbsolute(url){
  if(!url) return url;
  if (/^(https?:|\/\/|data:|mailto:)/.test(url)) return url;
  return RAW_BASE + url.replace(/^\/+/, '');
}

fetch(RAW_BASE + 'qr-faq/README.md')
  .then(r => r.text())
  .then(t => {
    const html = marked.parse(t);
    const container = document.getElementById('content');
    container.innerHTML = html;

    container.querySelectorAll('img').forEach(img => {
      const src = img.getAttribute('src');
      if (src && !/^(https?:|\/\/|data:|mailto:)/.test(src)) {
        img.src = RAW_BASE + src.replace(/^\/+/, '');
      }
    });

    container.querySelectorAll('a').forEach(a => {
      const href = a.getAttribute('href');
      if (href && !/^(https?:|\/\/|mailto:|#)/.test(href)) {
        a.href = RAW_BASE + href.replace(/^\/+/, '');
      }
    });
  });
</script>