<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>README</title>
<style>
  html,body{margin:0;padding:0}
  #content{box-sizing:border-box;padding:1rem;max-width:100%;}
  /* Make images fill the page width but keep aspect ratio */
  #content img{display:block;width:100%;height:auto;max-width:100%;}
  /* Prevent very large fonts or overflow from long code blocks */
  #content pre, #content code{max-width:100%;overflow:auto}
</style>
<div id="content"></div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
const RAW_BASE = 'https://raw.githubusercontent.com/evilC/WearWare/main/';

function makeAbsolute(url){
  if(!url) return url;
  if (/^(https?:|\/\/|data:|mailto:)/.test(url)) return url;
  return RAW_BASE + url.replace(/^\/+/, '');
}

const README_DIR = RAW_BASE + 'qr-faq/';

fetch(README_DIR + 'README.md')
  .then(r => r.text())
  .then(t => {
    const html = marked.parse(t);
    const container = document.getElementById('content');
    container.innerHTML = html;

    container.querySelectorAll('img').forEach(img => {
      const src = img.getAttribute('src');
      if (src && !/^(https?:|\/\/|data:|mailto:)/.test(src)) {
        img.src = README_DIR + src.replace(/^\/+/, '');
      }
    });

    container.querySelectorAll('a').forEach(a => {
      const href = a.getAttribute('href');
      if (href && !/^(https?:|\/\/|mailto:|#)/.test(href)) {
        a.href = README_DIR + href.replace(/^\/+/, '');
      }
    });
  });
</script>