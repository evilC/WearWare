@page "/log"
@using Serilog.Events
@using WearWare.Services.Logging
@rendermode InteractiveServer

<PageTitle>WareWare Log</PageTitle>

<div class="log-page-container">
    <div class="log-controls">
        <label for="logLevel" class="mb-0">Log Level:</label>
        <select id="logLevel" @bind="selectedLevel" class="form-select w-auto">
            @foreach (var level in logLevels)
            {
                <option value="@level">@level</option>
            }
        </select>
        <div class="form-check ms-3">
            <input type="checkbox" id="autoscroll" @bind="autoscrollEnabled" class="form-check-input" />
            <label for="autoscroll" class="form-check-label">Autoscroll</label>
        </div>
    </div>

    <div class="log-entries" @ref="logEntriesDiv">
        @foreach (var entry in logEntries)
        {
            <div class="log-entry">@FormatLogEntry(entry)</div>
        }
    </div>
</div>