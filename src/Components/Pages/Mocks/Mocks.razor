@page "/mocks"
@using WearWare.Components.Shared.PlayableItemCard
@rendermode InteractiveServer

<PageTitle>WareWare Mocks</PageTitle>

@* Use the same layout and styling as QuickMedia *@
<link href="/src/Components/Pages/Mocks/Mocks.razor.css" rel="stylesheet" />

@if (QuickMediaService.GetQuickMediaButtons() is null || QuickMediaService.GetQuickMediaButtons().Length == 0)
{
    <p>No quick-media buttons available.</p>
}
else
{
    <h2>Mock Quick Media Buttons</h2>
    <div class="qm-button-instructions">Clicking images simulates pressing the corresponding QuickMedia button on the Pi.</div>
    <div class="qm-button-list">
        @for (int i = 0; i < QuickMediaService.GetQuickMediaButtons().Length; i++)
        {
            var button = QuickMediaService.GetQuickMediaButtons()[i];
            var index = i;
            <div class="qm-button-item">
                <span class="qm-button-title">B@(i + 1)</span>
                @if (button?.Item is not null)
                {
                    <PlayableItemCard 
                        ImageSrc="@($"/quickmedia-images/{index}/{button.Item.SourceFileName}")" 
                        Item="@button.Item" 
                        />
                }
            </div>
        }
    </div>
}
